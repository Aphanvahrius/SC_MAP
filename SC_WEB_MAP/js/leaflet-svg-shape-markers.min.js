!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";L.ShapeMarker=L.CircleMarker.extend({options:{fill:!0,shape:"triangle",radius:10,rotation:0},setRadius:function(t){return this.options.radius=t,this.redraw()},getRadius:function(){return this.options.radius},setRotation:function(t){return this.options.rotation=t,this.redraw()},getRotation:function(){return this.options.rotation},_updatePath:function(){this._renderer._updateShape(this)},toGeoJSON:function(){return L.GeoJSON.getFeature(this,{type:"Point",coordinates:L.GeoJSON.latLngToCoords(this.getLatLng())})}}),L.shapeMarker=function t(i,r){return new L.ShapeMarker(i,r)},L.SVG.include({_updateShape:function t(i){var r=i._point,a=i.options.radius,s=i.options.shape,e=i.options.rotation;if(i._path.setAttribute("transform",`rotate(${e},${r.x},${r.y})`),"diamond"===s){var o="M"+(r.x-Math.sqrt(2)*a)+" "+r.y+" L "+r.x+" "+(r.y-Math.sqrt(2)*a)+" L"+(r.x+Math.sqrt(2)*a)+" "+r.y+" L"+r.x+" "+(r.y+Math.sqrt(2)*a)+" L"+(r.x-Math.sqrt(2)*a)+" "+r.y;this._setPath(i,o)}if("square"===s){var o="M"+(r.x-a)+" "+(r.y-a)+" L "+(r.x+a)+" "+(r.y-a)+" L"+(r.x+a)+" "+(r.y+a)+" L"+(r.x-a)+" "+(r.y+a)+" L"+(r.x-a)+" "+(r.y-a);this._setPath(i,o)}if("triangle"===s||"triangle-up"===s){var o="M"+(r.x-1.3*a)+" "+(r.y+.75*a)+" L"+r.x+" "+(r.y-1.5*a)+" L"+(r.x+1.3*a)+" "+(r.y+.75*a)+" Z";this._setPath(i,o)}if("triangle-down"===s){var o="M"+(r.x-1.3*a)+" "+(r.y-.75*a)+" L"+r.x+" "+(r.y+1.5*a)+" L"+(r.x+1.3*a)+" "+(r.y-.75*a)+" Z";this._setPath(i,o)}if("arrowhead"===s||"arrowhead-up"===s){var o="M "+(r.x+1.3*a)+" "+(r.y+1.3*a)+" L "+r.x+" "+(r.y-1.3*a)+" L "+(r.x-1.3*a)+" "+(r.y+1.3*a)+" L "+r.x+" "+(r.y+.5*a)+" L "+(r.x+1.3*a)+" "+(r.y+1.3*a)+" Z";this._setPath(i,o)}if("arrowhead-down"===s){var o="M "+(r.x-1.3*a)+" "+(r.y-1.3*a)+" L "+r.x+" "+(r.y+1.3*a)+" L "+(r.x+1.3*a)+" "+(r.y-1.3*a)+" L "+r.x+" "+(r.y-.5*a)+" L "+(r.x-1.3*a)+" "+(r.y-1.3*a)+" Z";this._setPath(i,o)}if("circle"===s&&this._updateCircle(i),s.startsWith("star")){var n=s.split(/[^0-9a-z]/gi,2),h=parseInt(n[1]);if("star"===n[0]&&!isNaN(h)&&h>2)var u=h;else var u=5;for(var x=.5*(1+Math.sqrt(5))+1,y=[],p=0;p<u;p++)y.push(r.x+a/x*Math.sin(2*Math.PI/u*p)+","+(r.y+a/x*Math.cos(2*Math.PI/u*p))),y.push(r.x+a*Math.sin(1/u*Math.PI+2*Math.PI/u*p)+","+(r.y+a*Math.cos(1/u*Math.PI+2*Math.PI/u*p)));var o="M"+y.join("L")+"Z";this._setPath(i,o)}if("x"===s){a/=2;var o="M"+(r.x+a)+","+(r.y+a)+"L"+(r.x-a)+","+(r.y-a)+"M"+(r.x-a)+","+(r.y+a)+"L"+(r.x+a)+","+(r.y-a);this._setPath(i,o)}}})});